<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="لوحة تحكم المشتري - إدارة طلباتك على منصة مشرق">
    
    <title>لوحة التحكم | مشرق</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 40 40'%3E%3Crect width='40' height='40' rx='8' fill='%23F97316'/%3E%3Cpath d='M12 28V15L20 10L28 15V28' stroke='white' stroke-width='2.5' fill='none'/%3E%3C/svg%3E">
    
    <!-- Styles -->
    <link rel="stylesheet" href="/app/assets/css/main.css">
    <link rel="stylesheet" href="/app/assets/css/pages/dashboard.css">
</head>
<body class="dashboard-page">
    <!-- Navbar -->
    <header id="navbar"></header>
    
    <!-- Main Content -->
    <main class="main-content">
        <div class="dashboard-container">
            
            <!-- Dashboard Header -->
            <div class="dashboard-header">
                <div class="dashboard-welcome">
                    <p class="dashboard-greeting">مرحباً بك،</p>
                    <h1 class="dashboard-title" id="userName">جاري التحميل...</h1>
                </div>
                <div class="dashboard-actions">
                    <a href="/app/explore.html" class="btn btn-primary">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="11" cy="11" r="8"/>
                            <path d="M21 21l-4.35-4.35"/>
                        </svg>
                        تصفح الخدمات
                    </a>
                </div>
            </div>
            
            <!-- Stats Grid -->
            <div class="stats-grid" id="statsGrid">
                <div class="stat-card">
                    <div class="stat-card-header">
                        <div class="stat-card-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2"/>
                                <rect x="9" y="3" width="6" height="4" rx="1"/>
                            </svg>
                        </div>
                    </div>
                    <div class="stat-card-value" id="totalOrders">-</div>
                    <div class="stat-card-label">إجمالي الطلبات</div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-card-header">
                        <div class="stat-card-icon warning">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10"/>
                                <polyline points="12,6 12,12 16,14"/>
                            </svg>
                        </div>
                    </div>
                    <div class="stat-card-value" id="activeOrders">-</div>
                    <div class="stat-card-label">طلبات نشطة</div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-card-header">
                        <div class="stat-card-icon success">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M22 11.08V12a10 10 0 11-5.93-9.14"/>
                                <polyline points="22,4 12,14.01 9,11.01"/>
                            </svg>
                        </div>
                    </div>
                    <div class="stat-card-value" id="completedOrders">-</div>
                    <div class="stat-card-label">طلبات مكتملة</div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-card-header">
                        <div class="stat-card-icon info">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="12" y1="1" x2="12" y2="23"/>
                                <path d="M17 5H9.5a3.5 3.5 0 000 7h5a3.5 3.5 0 010 7H6"/>
                            </svg>
                        </div>
                    </div>
                    <div class="stat-card-value" id="totalSpent">-</div>
                    <div class="stat-card-label">إجمالي المصروفات</div>
                </div>
            </div>
            
            <!-- Quick Actions -->
            <div class="dashboard-section">
                <div class="dashboard-section-header">
                    <h2 class="dashboard-section-title">إجراءات سريعة</h2>
                </div>
                <div class="dashboard-section-body">
                    <div class="quick-actions">
                        <a href="/app/explore.html" class="quick-action">
                            <div class="quick-action-icon">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="11" cy="11" r="8"/>
                                    <path d="M21 21l-4.35-4.35"/>
                                </svg>
                            </div>
                            <span class="quick-action-label">تصفح الخدمات</span>
                        </a>
                        <a href="/app/buyer/orders.html" class="quick-action">
                            <div class="quick-action-icon">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2"/>
                                    <rect x="9" y="3" width="6" height="4" rx="1"/>
                                </svg>
                            </div>
                            <span class="quick-action-label">طلباتي</span>
                        </a>
                        <a href="/app/buyer/messages.html" class="quick-action">
                            <div class="quick-action-icon">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"/>
                                </svg>
                            </div>
                            <span class="quick-action-label">الرسائل</span>
                        </a>
                        <a href="/app/buyer/profile.html" class="quick-action">
                            <div class="quick-action-icon">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"/>
                                    <circle cx="12" cy="7" r="4"/>
                                </svg>
                            </div>
                            <span class="quick-action-label">الملف الشخصي</span>
                        </a>
                    </div>
                </div>
            </div>
            
            <!-- Recent Orders -->
            <div class="dashboard-section">
                <div class="dashboard-section-header">
                    <h2 class="dashboard-section-title">آخر الطلبات</h2>
                    <a href="/app/buyer/orders.html" class="btn btn-sm btn-outline-secondary">عرض الكل</a>
                </div>
                <div class="dashboard-section-body" id="recentOrdersContainer">
                    <!-- Orders will be loaded here -->
                    <div class="dashboard-empty" id="ordersEmpty" style="display: none;">
                        <div class="dashboard-empty-icon">
                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                <path d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2"/>
                                <rect x="9" y="3" width="6" height="4" rx="1"/>
                            </svg>
                        </div>
                        <h3 class="dashboard-empty-title">لا توجد طلبات</h3>
                        <p class="dashboard-empty-text">ابدأ بتصفح الخدمات وطلب أول خدمة لك</p>
                        <a href="/app/explore.html" class="btn btn-primary">تصفح الخدمات</a>
                    </div>
                    <div class="table-responsive" id="ordersTableWrapper">
                        <table class="orders-table">
                            <thead>
                                <tr>
                                    <th>الخدمة</th>
                                    <th>البائع</th>
                                    <th>التاريخ</th>
                                    <th>الحالة</th>
                                    <th>السعر</th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody id="ordersTableBody">
                                <!-- Loading skeleton -->
                                <tr>
                                    <td colspan="6">
                                        <div class="skeleton skeleton-text"></div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            
        </div>
    </main>
    
    <!-- Footer -->
    <div id="footer"></div>
    
    <!-- Scripts -->
    <script src="/app/js/config.js"></script>
    <script src="/app/js/utils.js"></script>
    <script src="/app/js/components/toast.js"></script>
    <script src="/app/js/components/loader.js"></script>
    <script src="/app/js/auth.js"></script>
    <script src="/app/js/api.js"></script>
    <script src="/app/js/components/navbar.js"></script>
    <script src="/app/js/components/footer.js"></script>
    <script src="/app/js/pages/buyer-dashboard.js"></script>
</body>
</html>
