<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="إدارة خدماتي على منصة مشرق">
    
    <title>خدماتي | مشرق</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 40 40'%3E%3Crect width='40' height='40' rx='8' fill='%23F97316'/%3E%3Cpath d='M12 28V15L20 10L28 15V28' stroke='white' stroke-width='2.5' fill='none'/%3E%3C/svg%3E">
    
    <!-- Styles -->
    <link rel="stylesheet" href="/app/assets/css/main.css">
    <link rel="stylesheet" href="/app/assets/css/pages/dashboard.css">
    <link rel="stylesheet" href="/app/assets/css/pages/seller-services.css">
</head>
<body class="dashboard-page">
    <!-- Navbar -->
    <header id="navbar"></header>
    
    <!-- Main Content -->
    <main class="main-content">
        <div class="dashboard-container">
            
            <!-- Page Header -->
            <div class="dashboard-header">
                <div class="dashboard-welcome">
                    <nav class="breadcrumb mb-2" aria-label="التنقل">
                        <a href="/app/seller/dashboard.html">لوحة التحكم</a>
                        <span class="breadcrumb-separator">/</span>
                        <span class="breadcrumb-current">خدماتي</span>
                    </nav>
                    <h1 class="dashboard-title">خدماتي</h1>
                </div>
                <div class="dashboard-actions">
                    <a href="/app/seller/add-service.html" class="btn btn-primary">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="12" y1="5" x2="12" y2="19"/>
                            <line x1="5" y1="12" x2="19" y2="12"/>
                        </svg>
                        إضافة خدمة جديدة
                    </a>
                </div>
            </div>
            
            <!-- Stats Summary -->
            <div class="stats-grid stats-grid-mini" id="statsGrid">
                <div class="stat-card stat-card-mini">
                    <div class="stat-card-icon">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="2" y="7" width="20" height="14" rx="2" ry="2"/>
                            <path d="M16 21V5a2 2 0 00-2-2h-4a2 2 0 00-2 2v16"/>
                        </svg>
                    </div>
                    <div class="stat-card-content">
                        <div class="stat-card-value" id="totalServices">0</div>
                        <div class="stat-card-label">إجمالي الخدمات</div>
                    </div>
                </div>
                
                <div class="stat-card stat-card-mini">
                    <div class="stat-card-icon success">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M22 11.08V12a10 10 0 11-5.93-9.14"/>
                            <polyline points="22,4 12,14.01 9,11.01"/>
                        </svg>
                    </div>
                    <div class="stat-card-content">
                        <div class="stat-card-value" id="activeServices">0</div>
                        <div class="stat-card-label">خدمات نشطة</div>
                    </div>
                </div>
                
                <div class="stat-card stat-card-mini">
                    <div class="stat-card-icon warning">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"/>
                            <line x1="12" y1="8" x2="12" y2="12"/>
                            <line x1="12" y1="16" x2="12.01" y2="16"/>
                        </svg>
                    </div>
                    <div class="stat-card-content">
                        <div class="stat-card-value" id="pausedServices">0</div>
                        <div class="stat-card-label">خدمات متوقفة</div>
                    </div>
                </div>
            </div>
            
            <!-- Filters & Search -->
            <div class="services-toolbar">
                <div class="search-box">
                    <svg class="search-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="11" cy="11" r="8"/>
                        <path d="M21 21l-4.35-4.35"/>
                    </svg>
                    <input 
                        type="text" 
                        id="searchInput" 
                        class="search-input" 
                        placeholder="ابحث في خدماتك..."
                    >
                </div>
                <div class="toolbar-filters">
                    <select id="statusFilter" class="filter-select">
                        <option value="">جميع الحالات</option>
                        <option value="active">نشط</option>
                        <option value="paused">متوقف</option>
                        <option value="pending">قيد المراجعة</option>
                    </select>
                    <select id="sortBy" class="filter-select">
                        <option value="newest">الأحدث أولاً</option>
                        <option value="oldest">الأقدم أولاً</option>
                        <option value="orders">الأكثر طلباً</option>
                        <option value="rating">الأعلى تقييماً</option>
                    </select>
                </div>
            </div>
            
            <!-- Services List -->
            <div class="services-section" id="servicesSection">
                
                <!-- Loading State -->
                <div class="services-loading" id="servicesLoading">
                    <div class="service-item-skeleton">
                        <div class="skeleton skeleton-image"></div>
                        <div class="skeleton-content">
                            <div class="skeleton skeleton-text" style="width: 70%;"></div>
                            <div class="skeleton skeleton-text" style="width: 40%;"></div>
                        </div>
                    </div>
                    <div class="service-item-skeleton">
                        <div class="skeleton skeleton-image"></div>
                        <div class="skeleton-content">
                            <div class="skeleton skeleton-text" style="width: 60%;"></div>
                            <div class="skeleton skeleton-text" style="width: 50%;"></div>
                        </div>
                    </div>
                </div>
                
                <!-- Services List -->
                <div class="services-list" id="servicesList" style="display: none;">
                    <!-- Services will be rendered here -->
                </div>
                
                <!-- Empty State -->
                <div class="empty-state" id="emptyState" style="display: none;">
                    <div class="empty-state-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                            <rect x="2" y="7" width="20" height="14" rx="2" ry="2"/>
                            <path d="M16 21V5a2 2 0 00-2-2h-4a2 2 0 00-2 2v16"/>
                        </svg>
                    </div>
                    <h3 class="empty-state-title">لا توجد خدمات</h3>
                    <p class="empty-state-description">ابدأ بإضافة خدمتك الأولى وابدأ بتلقي الطلبات</p>
                    <a href="/app/seller/add-service.html" class="btn btn-primary mt-4">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="12" y1="5" x2="12" y2="19"/>
                            <line x1="5" y1="12" x2="19" y2="12"/>
                        </svg>
                        إضافة خدمة جديدة
                    </a>
                </div>
                
                <!-- No Results -->
                <div class="empty-state" id="noResults" style="display: none;">
                    <div class="empty-state-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                            <circle cx="11" cy="11" r="8"/>
                            <path d="M21 21l-4.35-4.35"/>
                            <line x1="8" y1="11" x2="14" y2="11"/>
                        </svg>
                    </div>
                    <h3 class="empty-state-title">لا توجد نتائج</h3>
                    <p class="empty-state-description">جرب تغيير كلمات البحث أو الفلاتر</p>
                    <button class="btn btn-secondary mt-4" id="clearFilters">
                        مسح الفلاتر
                    </button>
                </div>
                
            </div>
            
        </div>
    </main>
    
    <!-- Footer -->
    <div id="footer"></div>
    
    <!-- Delete Confirmation Modal -->
    <div class="modal-overlay" id="deleteModal" style="display: none;">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">حذف الخدمة</h3>
                <button class="modal-close" id="closeDeleteModal">&times;</button>
            </div>
            <div class="modal-body">
                <p class="text-center">
                    هل أنت متأكد من حذف هذه الخدمة؟<br>
                    <strong id="deleteServiceTitle"></strong>
                </p>
                <p class="text-center text-muted text-sm mt-2">
                    لا يمكن التراجع عن هذا الإجراء
                </p>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancelDelete">إلغاء</button>
                <button class="btn btn-error" id="confirmDelete">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="3 6 5 6 21 6"/>
                        <path d="M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"/>
                    </svg>
                    حذف
                </button>
            </div>
        </div>
    </div>
    
    <!-- Scripts -->
    <script src="/app/js/config.js"></script>
    <script src="/app/js/utils.js"></script>
    <script src="/app/js/components/toast.js"></script>
    <script src="/app/js/components/loader.js"></script>
    <script src="/app/js/auth.js"></script>
    <script src="/app/js/api.js"></script>
    <script src="/app/js/components/navbar.js"></script>
    <script src="/app/js/components/footer.js"></script>
    <script src="/app/js/pages/seller-services.js"></script>
</body>
</html>
